<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">

<link rel="import" href="../styles/styles.html">

<dom-module id="wa-startscreen">
  <template>
    <style include="styles"></style>
    <style>
     :host {
       display: flex;
       flex-direction: column;
       box-sizing: border-box;
       padding: 18px;
       height: 350px;
       width: 300px;
     }

     .icon {
       width: 50vw;
       height: 50vh;
       margin: auto;
       padding: 0 0 30px;
       flex-grow: 2;
     }

     .progress {
        width: 75%;
        margin: auto;
        padding: 24px 0 0;
     }

     .text {
       margin: auto;
       color: var(--secondary-text);
     }
     

    </style>

    
    <iron-icon class="icon" src="img/whatsapp.svg"></iron-icon>
    <span class="text">[[text]]</span>
    <paper-progress class="progress" indeterminate></paper-progress>
  
  </template>

  <script>
  class waStartscreen extends Polymer.Element {
    static get is() { return 'wa-startscreen'; }
    static get properties() {
      return {
        text: {
          type: String
        }
      };
    }

    connectedCallback() {
      super.connectedCallback();
      require('electron').ipcRenderer.on('startscreen-set-text', (event, text) => {
        this.text = text;
      });
    }
  }

  window.customElements.define(waStartscreen.is, waStartscreen);
</script>
</dom-module>